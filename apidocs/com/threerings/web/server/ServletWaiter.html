<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Mar 12 11:47:52 PDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ServletWaiter (Narya Core 1.15 API)</title>
<meta name="date" content="2015-03-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServletWaiter (Narya Core 1.15 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServletWaiter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/threerings/web/server/ServletWaiter.html" target="_top">Frames</a></li>
<li><a href="ServletWaiter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.com.samskivert.util.ServiceWaiter">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.com.samskivert.servlet.util.ServiceWaiter">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.threerings.web.server</div>
<h2 title="Class ServletWaiter" class="title">Class ServletWaiter&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.util">com.samskivert.util.ServiceWaiter</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.servlet.util">com.samskivert.servlet.util.ServiceWaiter</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li>com.threerings.web.server.ServletWaiter&lt;T&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.html?is-external=true" title="class or interface in com.samskivert.util">ResultListener</a>&lt;T&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ServletWaiter&lt;T&gt;</span>
extends <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.servlet.util">ServiceWaiter</a>&lt;T&gt;</pre>
<div class="block">Used to bridge the gap between synchronous servlets and our asynchronous
 game server architecture.

 <p> We don't want to use service waiters as a permanent solution, as that
 will result in a zillion servlet threads hanging around waiting for results
 all over the goddamned place. Instead we want to rearchitect Jetty to
 support asynchronous servlets that give up their thread when they need to
 block and grab a new thread out of the pool when they're ready to go
 again. This is a tall order, but I think they might be working on something
 like this for Jetty 6.0.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.samskivert.util.ServiceWaiter">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.samskivert.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.util">ServiceWaiter</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.TimeoutException.html?is-external=true" title="class or interface in com.samskivert.util">ServiceWaiter.TimeoutException</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.samskivert.util.ResultListener">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.samskivert.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.html?is-external=true" title="class or interface in com.samskivert.util">ResultListener</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.NOOP.html?is-external=true" title="class or interface in com.samskivert.util">ResultListener.NOOP</a>&lt;<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.NOOP.html?is-external=true" title="class or interface in com.samskivert.util">T</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.samskivert.servlet.util.ServiceWaiter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.samskivert.servlet.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.servlet.util">ServiceWaiter</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true#NO_TIMEOUT" title="class or interface in com.samskivert.servlet.util">NO_TIMEOUT</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.samskivert.util.ResultListener">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.samskivert.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.html?is-external=true" title="class or interface in com.samskivert.util">ResultListener</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ResultListener.html?is-external=true#NOOP" title="class or interface in com.samskivert.util">NOOP</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/threerings/web/server/ServletWaiter.html#ServletWaiter-java.lang.String-">ServletWaiter</a></span>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ident)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/threerings/web/server/ServletWaiter.html#queueAndWait-com.samskivert.util.RunQueue-java.lang.String-java.util.concurrent.Callable-">queueAndWait</a></span>(<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</a>&nbsp;runq,
            <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
            <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;action)</code>
<div class="block">Posts a result getter to be executed on the run queue thread and blocks waiting for the
 result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/threerings/web/server/ServletWaiter.html" title="type parameter in ServletWaiter">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/threerings/web/server/ServletWaiter.html#waitForResult--">waitForResult</a></span>()</code>
<div class="block">Waits for our asynchronous result and returns it if all is well.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.samskivert.servlet.util.ServiceWaiter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.samskivert.servlet.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.servlet.util">ServiceWaiter</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/servlet/util/ServiceWaiter.html?is-external=true#awaitFriendlyResponse-java.lang.String-" title="class or interface in com.samskivert.servlet.util">awaitFriendlyResponse</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.samskivert.util.ServiceWaiter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.samskivert.util.<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true" title="class or interface in com.samskivert.util">ServiceWaiter</a></h3>
<code><a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#getArgument--" title="class or interface in com.samskivert.util">getArgument</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#getError--" title="class or interface in com.samskivert.util">getError</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#postFailure-java.lang.Exception-" title="class or interface in com.samskivert.util">postFailure</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#postSuccess-T-" title="class or interface in com.samskivert.util">postSuccess</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#requestCompleted-T-" title="class or interface in com.samskivert.util">requestCompleted</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#requestFailed-java.lang.Exception-" title="class or interface in com.samskivert.util">requestFailed</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#reset--" title="class or interface in com.samskivert.util">reset</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#setTimeout-int-" title="class or interface in com.samskivert.util">setTimeout</a>, <a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/ServiceWaiter.html?is-external=true#waitForResponse--" title="class or interface in com.samskivert.util">waitForResponse</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ServletWaiter-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServletWaiter</h4>
<pre>public&nbsp;ServletWaiter(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ident)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="waitForResult--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForResult</h4>
<pre>public&nbsp;<a href="../../../../com/threerings/web/server/ServletWaiter.html" title="type parameter in ServletWaiter">T</a>&nbsp;waitForResult()
                throws <a href="../../../../com/threerings/web/gwt/ServiceException.html" title="class in com.threerings.web.gwt">ServiceException</a></pre>
<div class="block">Waits for our asynchronous result and returns it if all is well. If
 anything goes wrong (a timeout or a asynchronous call failure) the
 exception is logged and a <a href="../../../../com/threerings/web/gwt/ServiceException.html" title="class in com.threerings.web.gwt"><code>ServiceException</code></a> is thrown.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/threerings/web/gwt/ServiceException.html" title="class in com.threerings.web.gwt">ServiceException</a></code></dd>
</dl>
</li>
</ul>
<a name="queueAndWait-com.samskivert.util.RunQueue-java.lang.String-java.util.concurrent.Callable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>queueAndWait</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;queueAndWait(<a href="http://samskivert.github.com/samskivert/apidocs/com/samskivert/util/RunQueue.html?is-external=true" title="class or interface in com.samskivert.util">RunQueue</a>&nbsp;runq,
                                 <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                 <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;action)
                          throws <a href="../../../../com/threerings/web/gwt/ServiceException.html" title="class in com.threerings.web.gwt">ServiceException</a></pre>
<div class="block">Posts a result getter to be executed on the run queue thread and blocks waiting for the
 result.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/threerings/web/gwt/ServiceException.html" title="class in com.threerings.web.gwt">ServiceException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServletWaiter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/threerings/web/server/ServletWaiter.html" target="_top">Frames</a></li>
<li><a href="ServletWaiter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.com.samskivert.util.ServiceWaiter">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.com.samskivert.servlet.util.ServiceWaiter">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
